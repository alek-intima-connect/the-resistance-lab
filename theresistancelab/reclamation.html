<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mutual Aid | The Resistance Lab</title>
  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 fill=%22%23CD0000%22/></svg>">

  <script src="https://cdn.tailwindcss.com"></script>
  
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Merriweather:ital,wght@0,300;0,700;1,300&family=Oswald:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* Custom Font Definitions */
    .font-shout { font-family: 'Anton', sans-serif; text-transform: uppercase; letter-spacing: 0.05em; }
    .font-machine { font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 0.1em; }
    .font-theory { font-family: 'Merriweather', serif; line-height: 1.8; }
    
    body {
      background-color: #F2F0E6;
      color: #111;
      /* Noise texture */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    }

    /* Animation Keyframes */
    @keyframes pulse-line {
      0% { width: 10%; opacity: 0.5; }
      100% { width: 100%; opacity: 1; }
    }
    
    .activity-line {
      height: 4px;
      background: #CD0000;
      animation: pulse-line 5s ease-in-out;
    }

    /* Card Hover Effects */
    .supply-card {
      border: 3px solid #111;
      background: white;
      transition: all 0.2s ease;
      position: relative;
    }
    .supply-card:hover {
      transform: translate(-4px, -4px);
      box-shadow: 8px 8px 0px #CD0000;
      border-color: #111;
    }
    
    .img-slot {
      height: 250px;
      background-color: #e5e5e5;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 3px solid #111;
    }
    
    /* Utility Helpers */
    .bg-paper { background-color: #F2F0E6; }
    .bg-red { background-color: #CD0000; }
    .text-red { color: #CD0000; }
    .border-red { border-color: #CD0000; }
    
    @keyframes marquee {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    .animate-marquee {
        animation: marquee 20s linear infinite;
    }
  </style>
</head>

<body class="antialiased flex flex-col min-h-screen">

  <header class="border-b-4 border-black sticky top-0 z-50 bg-paper opacity-95">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-3">
      <div class="flex items-center gap-3">
        <svg class="w-8 h-8" viewBox="0 0 100 100" fill="none" stroke="#CD0000" stroke-width="6">
          <polygon points="50,5 61,35 95,35 68,55 79,85 50,65 21,85 32,55 5,35 39,35" stroke-linejoin="round"/>
        </svg>
        <a href="index.html" class="font-shout text-2xl tracking-wide">The Resistance Lab</a>
      </div>
      
      <nav class="hidden md:flex gap-8 font-machine text-sm font-bold text-gray-800">
        <a href="canon/canon.html" class="hover:text-[#CD0000] hover:underline decoration-4 underline-offset-4">The Canon</a>
        <a href="reclamation.html" class="hover:text-[#CD0000] hover:underline decoration-4 underline-offset-4">Mutual Aid</a>
        <a href="praxis.html" class="hover:text-[#CD0000] hover:underline decoration-4 underline-offset-4">The United Front</a>
      </nav>
    </div>
  </header>

  <main class="flex-grow">

    <section class="bg-black text-gray-300 py-16 border-b-4 border-red">
      <div class="max-w-7xl mx-auto px-6 text-center">

        <div class="mx-auto mb-8 bg-red-50 border border-red-200 px-4 py-2 flex items-center gap-3 overflow-hidden max-w-md shadow-[4px_4px_0px_#333]">
            <div class="w-2 h-2 bg-[#CD0000] animate-ping rounded-full shrink-0"></div>
            <div class="font-machine text-[#CD0000] text-xs tracking-widest whitespace-nowrap overflow-hidden relative w-full h-4">
                <span id="live-ticker" class="absolute animate-marquee">
                    // LATEST: ANONYMOUS DONATION $100.00 // FOOD BANK REDISTRIBUTION -$50.00 // NEW STOCK COMING THIS WEEKEND! //
                </span>
            </div>
        </div>

        <div class="flex items-center justify-center gap-2 mb-4">
           <div class="w-3 h-3 bg-[#CD0000] animate-pulse rounded-full"></div>
           <p class="font-machine text-[#CD0000] tracking-[0.2em]">PROLETARIAT FUNDED // 100% GOES BACK TO THE COMMUNITY</p>
        </div>
        
        <h1 id="total-fund" class="font-shout text-7xl md:text-9xl mb-4 text-white">$0.00</h1>
        
        <p class="font-machine text-sm md:text-xl tracking-widest text-gray-400 mb-8 max-w-2xl mx-auto">
          TOTAL WEALTH REDISTRIBUTED BACK TO THE PEOPLE
        </p>

        <div class="w-full max-w-lg mx-auto bg-gray-900 h-1 mb-2 overflow-hidden">
          <div class="activity-line"></div>
        </div>
      </div>
    </section>

    <section class="max-w-5xl mx-auto px-6 py-16 text-center">
      <h2 class="font-shout text-4xl mb-6">Wealth Reclamation</h2>
      <div class="border-l-4 border-red text-left pl-6 max-w-3xl mx-auto">
        <p class="font-theory text-lg text-gray-800">
          This is not a store. This is a mechanism for <strong>Solidarity</strong>. 
          When you acquire gear here, you are not "buying a product"â€”you are funding the community. 
          Every dollar is tracked in the ledger below and redistributed to mutual aid, food banks, and local defense funds.
        </p>
      </div>
    </section>

    <section class="max-w-5xl mx-auto px-6 mb-16">
      <div class="border-4 border-black bg-white p-6 shadow-[8px_8px_0px_#111]">
        <div class="flex justify-between items-center mb-6 border-b-2 border-black pb-4">
          <div class="font-machine text-2xl font-bold">The Ledger</div>
          <a href="assets/financials/ledger.html" class="hover:underline hover:text-white decoration-4 underline-offset-4">
            <span class="font-mono text-xs bg-black text-white px-2 py-1">OPEN RECORD</span>
          </a>
        </div>

        <table class="w-full text-left font-mono text-sm">
          <thead>
            <tr class="text-gray-500">
              <th class="py-2 pl-2">DATE</th>
              <th class="py-2">TYPE</th>
              <th class="py-2 text-right pr-2">AMOUNT</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            </tbody>
        </table>
      </div>
    </section>

    <section class="bg-[#e5e5e5] border-t-4 border-black py-16">
      <div class="max-w-6xl mx-auto px-6">
        <h2 class="font-shout text-7xl mb-12">Supply Depot</h2>

        <div class="grid md:grid-cols-3 gap-8">
          
          <div class="supply-card group">
             <div class="absolute top-2 right-2 bg-black text-white font-machine text-xs px-2 py-1 z-10">OUT OF STOCK</div>
             <div class="img-slot overflow-hidden relative bg-gray-200">
               <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?q=80&w=800&auto=format&fit=crop&sat=-100" 
                    alt="Heavy Tee" 
                    class="object-cover w-full h-full mix-blend-multiply hover:scale-110 transition-transform duration-500 grayscale contrast-125">
             </div>
             <div class="p-6">
               <h3 class="font-shout text-2xl">AGIT-TEE</h3>
               <p class="font-theory text-sm text-gray-600 mb-4">
                 100% Cotton. Union Made. All proceeds go to the Commons fund.
               </p>
               <div class="flex justify-between items-center border-t-2 border-black pt-4">
                 <span class="font-mono font-bold">$35.00</span>
                 <a href="https://buy.stripe.com/test_mode_link" class="bg-black text-white font-machine px-4 py-2 hover:underline hover:text-white decoration-4 underline-offset-4">CONTRIBUTE</a>
               </div>
             </div>
           </div>

          <div class="supply-card group border-red hover:text-red transition-colors duration-300">
            <div class="absolute top-2 right-2 bg-[#CD0000] text-white font-machine text-xs px-2 py-1 z-10">DIRECT AID</div>
            <div class="img-slot bg-red-50 overflow-hidden relative">
              <img src="https://images.unsplash.com/photo-1593113598332-cd288d649433?q=80&w=800&auto=format&fit=crop&sat=-100" 
                   alt="Solidarity" 
                   class="object-cover w-full h-full hover:scale-110 transition-transform duration-500 grayscale contrast-125">
              <div class="absolute inset-0 bg-[#CD0000] mix-blend-multiply opacity-60 pointer-events-none"></div>
            </div>
            <div class="p-6">
              <h3 class="font-shout text-2xl text-[#CD0000] group-hover:text-black transition-colors">The Solidarity Buy</h3>
              <p class="font-theory text-sm text-gray-600 mb-4 group-hover:text-black">
                Purchase nothing physical, but 100% of this goes to a local food bank network <strong>of your choosing.</strong>
              </p>
              <div class="flex justify-between items-center border-t-2 border-[#CD0000] pt-4">
                <span class="font-mono font-bold text-[#CD0000]">$50.00</span>
                <a href="https://buy.stripe.com/test_mode_link" class="bg-[#CD0000] text-white font-machine px-4 py-2 hover:bg-black hover:text-white transition-colors decoration-4 underline-offset-4">CONTRIBUTE</a>
              </div>
            </div>
          </div>

          <div class="supply-card group">
            <div class="absolute top-2 right-2 bg-black text-white font-machine text-xs px-2 py-1 z-10">OUT OF STOCK</div>
            <div class="img-slot overflow-hidden relative bg-gray-900">
              <img src="https://images.unsplash.com/photo-1572375992501-4b0892d50c69?q=80&w=800&auto=format&fit=crop&sat=-100" 
                   alt="Sticker Collage" 
                   class="object-cover w-full h-full grayscale contrast-125 hover:scale-110 transition-transform duration-500 opacity-90">
            </div>
            <div class="p-6">
              <h3 class="font-shout text-2xl">Agitprop Pack</h3>
              <p class="font-theory text-sm text-gray-600 mb-4">
                50 Vinyl Stickers. High durability. Place them where you see fit to reclaim public space.
              </p>
              <div class="flex justify-between items-center border-t-2 border-black pt-4">
                <span class="font-mono font-bold">$15.00</span>
                <a href="https://buy.stripe.com/test_mode_link" class="bg-black text-white font-machine px-4 py-2 hover:underline hover:text-white decoration-4 underline-offset-4">CONTRIBUTE</a>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <section class="bg-black text-white py-16">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="font-shout text-4xl mb-4">Bypass The Product.</h2>
        <p class="font-theory text-lg opacity-80 mb-8">
          Don't need gear? Contribute directly to the Sanctuary Fund. 100% efficiency. No overhead.
        </p>
        <div class="flex flex-col md:flex-row justify-center gap-4">
          <a href="https://donate.stripe.com/test_9B65kFfBtalN66s2ga3ZK00" class="border-2 border-white text-white font-machine px-8 py-4 hover:bg-white hover:text-black transition-all">
            DONATE $10 USD
          </a>
          <a href="assets/financials/btc-wallet.txt" class="border-2 border-white text-white font-machine px-8 py-4 hover:bg-white hover:text-black transition-all">
            OUR CRYPTO WALLET
          </a>
        </div>
      </div>
    </section>

  </main>

  <footer class="bg-gray-900 text-gray-200 py-4 border-t-4 border-red">
    <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-center md:text-left px-6">
      <div class="mb-6 md:mb-0">
        <span class="font-shout text-3xl tracking-wide uppercase block mb-2">The Resistance Lab</span>
        <p class="font-theory text-sm italic text-gray-400">Novum Mundum Vetere Pasce</p>
      </div>
      <div class="flex flex-col items-center md:items-end">
        <div class="flex space-x-6 font-machine text-sm tracking-widest mb-4 font-bold">
          <a href="#" class="hover:text-red transition-colors">Source Code</a>
          <a href="#" class="hover:text-red transition-colors">Doctrine_v1.pdf</a>
        </div>
        <span class="text-red font-shout px-3 py-1 text-xs tracking-wider">EST. 2026 // DECENTRALIZED</span>
      </div>
    </div>
  </footer>

  <script defer src="/_vercel/speed-insights/script.js"></script>
  
  <script>
    // 1. The Data Source (Add your transactions here)
    const transactions = [
      { date: "JAN 06, 2026", type: "INITIAL SEED FUND", amount: 161.00, isCredit: true },
      { date: "JAN 19, 2026", type: "AGIT-TEE PURCHASE", amount: 35.00, isCredit: true },
      { date: "JAN 23, 2026", type: "FOOD BANK REDISTRIBUTION", amount: -50.00, isCredit: false },
      { date: "JAN 27, 2026", type: "ANONYMOUS DONATION", amount: 100.00, isCredit: true },
    ];

    // 2. Select DOM Elements
    const totalFundEl = document.getElementById('total-fund');
    const ledgerBody = document.querySelector('tbody');

    // 3. Render Functions
    function renderLedger() {
      let currentTotal = 0;
      let html = '';

      // Optional: Sort by date if needed
      // transactions.reverse(); 

      transactions.forEach(tx => {
        // Calculate Total
        currentTotal += tx.amount;

        // Format Currency
        const formattedAmt = (tx.amount > 0 ? '+' : '') + tx.amount.toFixed(2);
        const rowClass = tx.isCredit ? 'bg-red-50' : 'bg-white text-gray-400';
        const typeClass = tx.isCredit ? 'text-[#CD0000] font-bold' : 'text-black';

        // Build Row HTML
        html += `
          <tr class="${rowClass} border-b border-gray-100 last:border-0">
            <td class="py-3 pl-2">${tx.date}</td>
            <td class="py-3 ${typeClass}">${tx.type}</td>
            <td class="py-3 text-right pr-2 font-mono">$${formattedAmt}</td>
          </tr>
        `;
      });

      // Update the DOM
      ledgerBody.innerHTML = html;
      totalFundEl.innerText = '$' + currentTotal.toFixed(2);
    }

    // Initialize
    renderLedger();
  </script>
</body>
</html>
